<!DOCTYPE html>
<html lang="sw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Mindset Psychology Assessment</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            color: #ff3838;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 56, 56, 0.5);
        }

        .subtitle {
            text-align: center;
            color: #ffd700;
            font-size: 1.1em;
            margin-bottom: 30px;
            font-style: italic;
        }

        .question-block {
            background: rgba(255, 56, 56, 0.1);
            border-left: 5px solid #ff3838;
            padding: 25px;
            margin-bottom: 30px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .question-block:hover {
            background: rgba(255, 56, 56, 0.15);
            transform: translateX(5px);
        }

        .question-number {
            color: #ffd700;
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #ffffff;
            font-weight: 500;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .option:hover {
            background: rgba(255, 56, 56, 0.2);
            border-color: #ff3838;
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(255, 56, 56, 0.3);
            border-color: #ff3838;
            box-shadow: 0 0 20px rgba(255, 56, 56, 0.4);
        }

        .option-letter {
            font-weight: bold;
            color: #ffd700;
            font-size: 1.2em;
            min-width: 30px;
        }

        .option-text {
            flex: 1;
            line-height: 1.6;
        }

        .submit-btn, .action-btn {
            background: linear-gradient(135deg, #ff3838 0%, #ff6b6b 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.3em;
            border-radius: 50px;
            cursor: pointer;
            margin: 30px auto;
            display: block;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 10px 30px rgba(255, 56, 56, 0.4);
            transition: all 0.3s ease;
        }

        .submit-btn:hover, .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 56, 56, 0.6);
        }

        .submit-btn:disabled {
            background: #666;
            cursor: not-allowed;
            box-shadow: none;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            border: 2px solid #ff3838;
            box-shadow: 0 20px 60px rgba(255, 56, 56, 0.5);
        }

        .modal-content h2 {
            color: #ff3838;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .modal-content input {
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #ff3838;
            border-radius: 10px;
            width: 100%;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            text-align: center;
            letter-spacing: 5px;
        }

        .modal-btn {
            background: #ff3838;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .modal-btn:hover {
            background: #ff6b6b;
            transform: scale(1.05);
        }

        .result-section {
            background: rgba(255, 56, 56, 0.1);
            border-left: 5px solid #ff3838;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 10px;
        }

        .result-section h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .result-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-left: 3px solid #4a9eff;
        }

        .result-item h3 {
            color: #4a9eff;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .result-item p {
            line-height: 1.8;
            color: #e0e0e0;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .chart-bar {
            margin-bottom: 20px;
        }

        .chart-label {
            color: #ffd700;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 1.1em;
        }

        .chart-bar-bg {
            background: rgba(255, 255, 255, 0.1);
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .chart-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff3838, #ffd700);
            border-radius: 15px;
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
        }

        .advice-section {
            background: rgba(255, 215, 0, 0.1);
            border-left: 5px solid #ffd700;
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        .advice-section h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .advice-section p {
            line-height: 1.8;
            color: #e0e0e0;
            font-size: 1.05em;
        }

        .whatsapp-btn {
            background: #25D366;
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 30px;
            display: inline-block;
            margin: 20px 10px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn:hover {
            background: #1fb855;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.6);
        }

        .print-btn {
            background: #4a9eff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            margin: 20px 10px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(74, 158, 255, 0.4);
        }

        .print-btn:hover {
            background: #3a8eef;
            transform: translateY(-3px);
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            border-top: 2px solid rgba(255, 56, 56, 0.3);
            color: #ffd700;
            font-size: 1.1em;
        }

        .error-msg {
            color: #ff3838;
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
        }

        @media print {
            body {
                background: white;
                color: black;
            }
            .container {
                box-shadow: none;
                background: white;
            }
            .action-btn, .whatsapp-btn, .print-btn {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 1.8em;
            }
            .question-text {
                font-size: 1.1em;
            }
            .submit-btn, .action-btn {
                padding: 15px 30px;
                font-size: 1.1em;
            }
        }

        .summary-highlight {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid #ffd700;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        .summary-highlight h2 {
            color: #ffd700;
            font-size: 2em;
            margin-bottom: 15px;
        }

        .summary-highlight p {
            font-size: 1.2em;
            line-height: 1.8;
            color: #ffffff;
        }
    </style>
</head>
<body>
    <!-- PAGE 1: QUESTIONS -->
    <div id="questionsPage" class="page active">
        <div class="container">
            <h1>üß† DEEP MINDSET PSYCHOLOGY</h1>
            <p class="subtitle">Gundua Mindset Yako Ya Ndani</p>

            <div id="questionsContainer"></div>

            <button class="submit-btn" id="submitBtn" disabled>TAZAMA MATOKEO</button>
        </div>
    </div>

    <!-- PAGE 2: RESULTS -->
    <div id="resultsPage" class="page">
        <div class="container">
            <h1>üìä MATOKEO YAKO</h1>
            
            <div class="summary-highlight" id="summarySection"></div>

            <div class="chart-container">
                <h2 style="color: #ffd700; margin-bottom: 20px; text-align: center;">MUHTASARI WA MINDSET</h2>
                <div id="chartContainer"></div>
            </div>

            <div class="result-section">
                <h2>UFAFANUZI WA KINA WA MINDSET YAKO</h2>
                <div id="detailedResults"></div>
            </div>

            <div style="text-align: center;">
                <button class="action-btn" id="adviceBtn">PATA USHAURI WA KINA</button>
                <a href="https://wa.me/255740703069" class="whatsapp-btn" target="_blank">üì± WASILIANA NASI</a>
                <button class="print-btn" onclick="window.print()">üñ®Ô∏è PRINT / SAVE PDF</button>
            </div>
        </div>
    </div>

    <!-- PAGE 3: ADVICE -->
    <div id="advicePage" class="page">
        <div class="container">
            <h1>üí° USHAURI WA KINA</h1>
            <p class="subtitle">Mwongozo Binafsi Kulingana Na Majibu Yako</p>

            <div id="adviceContainer"></div>

            <div style="text-align: center;">
                <button class="action-btn" onclick="goToResults()">RUDI KWENYE MATOKEO</button>
                <a href="https://wa.me/255740703069" class="whatsapp-btn" target="_blank">üì± WASILIANA NASI</a>
                <button class="print-btn" onclick="window.print()">üñ®Ô∏è PRINT / SAVE PDF</button>
            </div>
        </div>
    </div>

    <!-- PASSWORD MODAL -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <h2 id="modalTitle">INGIZA PASSWORD</h2>
            <input type="password" id="passwordInput" placeholder="****">
            <div id="errorMsg" class="error-msg"></div>
            <div>
                <button class="modal-btn" id="confirmBtn">INGIA</button>
                <button class="modal-btn" onclick="closeModal()">FUNGA</button>
            </div>
        </div>
    </div>

    <footer>
        Generated By TIDA TZ | Dr Swabur
    </footer>

    <script>
        const questions = [
            {
                number: 1,
                text: "Unapokuwa na wazo jipya kichwani, nini mara nyingi hutokea?",
                options: [
                    { letter: "A", text: "Naanza kulichambua kwa kina kabla ya hatua yoyote", 
                      result: "Una akili ya uchambuzi wa juu, unapenda uhakika kuliko hatari",
                      advice: "Jifunze kuanza kabla ya uhakika kamili, clarity huja njiani" },
                    { letter: "B", text: "Nachukua hatua haraka kisha naangalia litakuwaje",
                      result: "Una ujasiri wa kuanza lakini unachoka njiani",
                      advice: "Jenga mfumo mdogo wa kukufanya uendelee hata hamasa ikipotea" },
                    { letter: "C", text: "Nahitaji mtu anithibitishe au aniongoze",
                      result: "Una uwezo mkubwa lakini unategemea sana mwelekeo wa nje",
                      advice: "Chagua mentor mmoja na uache kusikiliza sauti nyingi" },
                    { letter: "D", text: "Nalifurahia kichwani lakini halitoki nje",
                      result: "Wewe ni mtu wa maono makubwa lakini utekelezaji ni changamoto",
                      advice: "Andika wazo moja tu na lichukulie kama mradi halisi" }
                ]
            },
            {
                number: 2,
                text: "Unapoweka malengo mapya, mara nyingi hali yako huwa ipi?",
                options: [
                    { letter: "A", text: "Najisikia nipo salama nikiwa na mpango kamili",
                      result: "Unathamini control na maandalizi",
                      advice: "Punguza kupanga, ongeza kufanya hata kwa makosa" },
                    { letter: "B", text: "Najisikia moto wa kuanza lakini baadaye hupoa",
                      result: "Wewe ni starter mzuri kuliko finisher",
                      advice: "Fanya malengo ya siku 7 badala ya miezi 6" },
                    { letter: "C", text: "Najisikia nimeshindwa kuamua nianzie wapi",
                      result: "Unahitaji mfumo unaokupa mwelekeo",
                      advice: "Fuata roadmap ya mtu mmoja aliyekwisha pita njia hiyo" },
                    { letter: "D", text: "Najisikia ndoto ni kubwa kuliko uwezo wangu",
                      result: "Una ndoto kubwa kuliko self-belief",
                      advice: "Gawanya ndoto kuwa hatua ndogo sana za kila siku" }
                ]
            },
            {
                number: 3,
                text: "Unapokutana na changamoto mpya, hufanyaje?",
                options: [
                    { letter: "A", text: "Natafuta taarifa zaidi kabla ya kusonga",
                      result: "Una akili ya researcher",
                      advice: "Taarifa bila action hugeuka mzigo wa akili" },
                    { letter: "B", text: "Najaribu mara moja hata nisipofanikiwa",
                      result: "Una courage ya juu",
                      advice: "Rekodi unachojaribu ili ujifunze badala ya kurudia makosa" },
                    { letter: "C", text: "Nasubiri msaada au ushauri",
                      result: "Unajijua lakini hujiamini peke yako",
                      advice: "Amua mara 1 kwa wiki bila kushauriana na mtu" },
                    { letter: "D", text: "Naahirisha hadi nijisikie tayari",
                      result: "Unaogopa kushindwa kuliko kushindwa kweli",
                      advice: "Fanya kitu kimoja kisicho kamili leo" }
                ]
            },
            {
                number: 4,
                text: "Unapofikiria mafanikio, unayaonaje?",
                options: [
                    { letter: "A", text: "Kama kitu kinachopaswa kupangwa vizuri",
                      result: "Mafanikio kwako ni mfumo",
                      advice: "Mfumo bila utekelezaji ni nadharia" },
                    { letter: "B", text: "Kama matokeo ya juhudi binafsi",
                      result: "Unaamini kwenye nguvu ya action",
                      advice: "Jifunze kupumzika bila kuacha mwelekeo" },
                    { letter: "C", text: "Kama kitu kinachohitaji mwongozo",
                      result: "Unaamini kwenye uongozi",
                      advice: "Usiwe mtegemezi, kuwa mwanafunzi anayejitegemea" },
                    { letter: "D", text: "Kama ndoto ya maisha bora",
                      result: "Una vision ya mbali sana",
                      advice: "Rudisha vision kwenye ratiba ya leo" }
                ]
            },
            {
                number: 5,
                text: "Unaposhindwa kufikia ulipokusudia, hufanya nini?",
                options: [
                    { letter: "A", text: "Nachambua makosa yangu",
                      result: "Una uwezo wa kujitathmini",
                      advice: "Usikae sana kwenye analysis, songa mbele" },
                    { letter: "B", text: "Najaribu tena kwa nguvu zaidi",
                      result: "Hustler mindset",
                      advice: "Hustle bila mwelekeo huleta kuchoka" },
                    { letter: "C", text: "Natafuta ushauri",
                      result: "Coachable mindset",
                      advice: "Chagua ushauri mmoja, acha kuruka ruka" },
                    { letter: "D", text: "Nakata tamaa kimya kimya",
                      result: "Una maumivu ya ndani usiyoeleza",
                      advice: "Kubali hisia zako kabla ya kusonga" }
                ]
            },
            {
                number: 6,
                text: "Unapojifunza kitu kipya, unapenda zaidi?",
                options: [
                    { letter: "A", text: "Theory kwanza",
                      result: "Analytical learner",
                      advice: "Jifunza kwa kufanya, sio kusoma tu" },
                    { letter: "B", text: "Practice moja kwa moja",
                      result: "Experiential learner",
                      advice: "Andika ulichojifunza ili kisipotee" },
                    { letter: "C", text: "Kufundishwa na mtu",
                      result: "Guided learner",
                      advice: "Jifunze pia kujiongoza mwenyewe" },
                    { letter: "D", text: "Kufikiria jinsi kitakavyobadilisha maisha",
                      result: "Vision-driven learner",
                      advice: "Rudi chini kwenye hatua za sasa" }
                ]
            },
            {
                number: 7,
                text: "Unapokuwa peke yako, akili yako huwa wapi?",
                options: [
                    { letter: "A", text: "Kwenye mipango",
                      result: "Strategic thinker",
                      advice: "Panga kwa muda, tekeleza zaidi" },
                    { letter: "B", text: "Kwenye mambo ya kufanya",
                      result: "Action oriented",
                      advice: "Chuja mambo muhimu" },
                    { letter: "C", text: "Kwenye maswali ya mwelekeo",
                      result: "Seeker mindset",
                      advice: "Jibu maswali machache kwa vitendo" },
                    { letter: "D", text: "Kwenye ndoto",
                      result: "Creative dreamer",
                      advice: "Chagua ndoto moja tu" }
                ]
            },
            {
                number: 8,
                text: "Unapopata fursa, hufanyaje?",
                options: [
                    { letter: "A", text: "Naitathmini sana",
                      result: "Risk-aware",
                      advice: "Kila fursa haiji mara mbili" },
                    { letter: "B", text: "Nairukia",
                      result: "Risk-taker",
                      advice: "Chuja kabla ya kurukia kila kitu" },
                    { letter: "C", text: "Natafuta ushauri",
                      result: "Cautious mind",
                      advice: "Amua bila ruhusa mara moja kwa siku" },
                    { letter: "D", text: "Naota itakavyokuwa",
                      result: "Visionary",
                      advice: "Fanya hatua ndogo leo" }
                ]
            },
            {
                number: 9,
                text: "Unapofanya maamuzi makubwa?",
                options: [
                    { letter: "A", text: "Nategemea data",
                      result: "Logical mind",
                      advice: "Sikiliza pia intuition" },
                    { letter: "B", text: "Nategemea hisia",
                      result: "Emotional driver",
                      advice: "Pima hisia kwa muda" },
                    { letter: "C", text: "Nategemea ushauri",
                      result: "Social decision maker",
                      advice: "Jiaminie mara 1" },
                    { letter: "D", text: "Nayaahirisha",
                      result: "Fear-based decision maker",
                      advice: "Amua hata ukiwa na hofu" }
                ]
            },
            {
                number: 10,
                text: "Unaposhindwa kuanza, mara nyingi sababu ni?",
                options: [
                    { letter: "A", text: "Sijaandaa vya kutosha",
                      result: "Preparation-focused",
                      advice: "Preparation is endless, action ends doubt" },
                    { letter: "B", text: "Sina hamasa",
                      result: "Motivation-dependent",
                      advice: "Fanya bila motivation" },
                    { letter: "C", text: "Sina mwongozo",
                      result: "Direction-seeker",
                      advice: "Chagua mwelekeo mmoja" },
                    { letter: "D", text: "Naogopa matokeo",
                      result: "Fear-driven",
                      advice: "Hofu inapungua ukianza" }
                ]
            },
            {
                number: 11,
                text: "Unapoangalia safari ya maisha yako?",
                options: [
                    { letter: "A", text: "Naona mipango mingi",
                      result: "Planner soul",
                      advice: "Punguza mipango, ongeza hatua" },
                    { letter: "B", text: "Naona majaribio mengi",
                      result: "Trial-and-error soul",
                      advice: "Jifunze kutokana na majaribio" },
                    { letter: "C", text: "Naona walimu wengi",
                      result: "Student soul",
                      advice: "Geuka kuwa kiongozi wa nafsi yako" },
                    { letter: "D", text: "Naona ndoto nyingi",
                      result: "Dream-heavy soul",
                      advice: "Fanya ndoto moja iwe halisi" }
                ]
            },
            {
                number: 12,
                text: "Ukielezwa wewe ni nani sasa hivi, unasema?",
                options: [
                    { letter: "A", text: "Mtu anayejipanga",
                      result: "Structured mindset",
                      advice: "Usipotee kwenye structure" },
                    { letter: "B", text: "Mtu anayejitahidi",
                      result: "Effort mindset",
                      advice: "Effort bila mfumo huchosha" },
                    { letter: "C", text: "Mtu anayetafuta njia",
                      result: "Searching mindset",
                      advice: "Chagua njia moja" },
                    { letter: "D", text: "Mtu mwenye ndoto",
                      result: "Vision mindset",
                      advice: "Vision bila action ni ndoto" }
                ]
            }
        ];

        let userAnswers = {};
        let currentModalType = '';

        // Initialize questions
        function initQuestions() {
            const container = document.getElementById('questionsContainer');
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-block';
                questionDiv.innerHTML = `
                    <div class="question-number">SWALI ${q.number}</div>
                    <div class="question-text">${q.text}</div>
                    <div class="options">
                        ${q.options.map(opt => `
                            <div class="option" data-question="${index}" data-answer="${opt.letter}">
                                <span class="option-letter">${opt.letter}.</span>
                                <span class="option-text">${opt.text}</span>
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Add click handlers
            document.querySelectorAll('.option').forEach(opt => {
                opt.addEventListener('click', function() {
                    const questionIndex = this.dataset.question;
                    const answer = this.dataset.answer;
                    
                    // Remove selected from siblings
                    document.querySelectorAll(`[data-question="${questionIndex}"]`).forEach(el => {
                        el.classList.remove('selected');
                    });
                    
                    // Add selected to this
                    this.classList.add('selected');
                    
                    // Store answer
                    userAnswers[questionIndex] = answer;
                    
                    // Check if all answered
                    checkAllAnswered();
                });
            });
        }

        function checkAllAnswered() {
            const submitBtn = document.getElementById('submitBtn');
            if (Object.keys(userAnswers).length === questions.length) {
                submitBtn.disabled = false;
            }
        }

        document.getElementById('submitBtn').addEventListener('click', function() {
            currentModalType = 'results';
            document.getElementById('modalTitle').textContent = 'INGIZA PASSWORD YA MATOKEO';
            document.getElementById('passwordInput').value = '';
            document.getElementById('errorMsg').textContent = '';
            document.getElementById('passwordModal').classList.add('active');
        });

        document.getElementById('adviceBtn').addEventListener('click', function() {
            currentModalType = 'advice';
            document.getElementById('modalTitle').textContent = 'INGIZA PASSWORD YA USHAURI';
            document.getElementById('passwordInput').value = '';
            document.getElementById('errorMsg').textContent = '';
            document.getElementById('passwordModal').classList.add('active');
        });

        document.getElementById('confirmBtn').addEventListener('click', function() {
            const password = document.getElementById('passwordInput').value;
            const errorMsg = document.getElementById('errorMsg');
            
            if (currentModalType === 'results' && password === '1234') {
                closeModal();
                showResults();
            } else if (currentModalType === 'advice' && password === 'ABCD') {
                closeModal();
                showAdvice();
            } else {
                errorMsg.textContent = 'PASSWORD SI SAHIHI!';
            }
        });

        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('confirmBtn').click();
            }
        });

        function closeModal() {
            document.getElementById('passwordModal').classList.remove('active');
        }

        function showResults() {
            // Calculate mindset distribution
            const mindsetCount = { A: 0, B: 0, C: 0, D: 0 };
            Object.values(userAnswers).forEach(answer => {
                mindsetCount[answer]++;
            });

            // Determine dominant mindset
            let dominant = Object.entries(mindsetCount).sort((a, b) => b[1] - a[1])[0];
            const dominantLetter = dominant[0];
            const dominantCount = dominant[1];
            
            const mindsetTypes = {
                A: { name: "ANALYTICAL MINDSET", description: "Wewe ni mwanachama mkuu - unapenda uchambuzi, data, na mipango. Unafanya vizuri kwenye maandalizi lakini mara nyingi unasahau kwamba action ndiyo inayoleta mabadiliko halisi." },
                B: { name: "ACTION MINDSET", description: "Wewe ni mfanyakazi - una ujasiri wa kuanza haraka na kujaribu mambo. Unafanya vizuri kwenye kutekeleza lakini mara nyingi unachoka au unapoteza mwelekeo kwa sababu haufuati mfumo." },
                C: { name: "GUIDED MINDSET", description: "Wewe ni mwanafunzi - unapenda kuongozwa na kushauri. Una uwezo mkubwa lakini unategemea sana rai za wengine. Jifunze kujiamini zaidi na kufanya maamuzi bila kutafuta idhini." },
                D: { name: "VISIONARY MINDSET", description: "Wewe ni mwota - una ndoto kubwa na maono ya mbali. Unafanya vizuri kwenye kuona mambo makubwa lakini mara nyingi unashindwa kuyageuza kuwa hatua za vitendo. Rudi chini kwenye uhalisia wa leo." }
            };

            // Summary section
            const summarySection = document.getElementById('summarySection');
            summarySection.innerHTML = `
                <h2>MINDSET YAKO KUU NI:</h2>
                <p style="font-size: 2.5em; color: #ffd700; margin: 20px 0;">${mindsetTypes[dominantLetter].name}</p>
                <p>${mindsetTypes[dominantLetter].description}</p>
            `;

            // Chart
            const chartContainer = document.getElementById('chartContainer');
            chartContainer.innerHTML = '';
            const letters = ['A', 'B', 'C', 'D'];
            const labels = {
                A: 'Analytical (Mchambuzi)',
                B: 'Action (Mtendaji)',
                C: 'Guided (Mwanafunzi)',
                D: 'Visionary (Mwota)'
            };
            
            letters.forEach(letter => {
                const percentage = (mindsetCount[letter] / 12) * 100;
                const barDiv = document.createElement('div');
                barDiv.className = 'chart-bar';
                barDiv.innerHTML = `
                    <div class="chart-label">${labels[letter]}</div>
                    <div class="chart-bar-bg">
                        <div class="chart-bar-fill" style="width: ${percentage}%">${mindsetCount[letter]}/12</div>
                    </div>
                `;
                chartContainer.appendChild(barDiv);
            });

            // Detailed results
            const detailedResults = document.getElementById('detailedResults');
            detailedResults.innerHTML = '';
            
            questions.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                const selectedOption = q.options.find(opt => opt.letter === userAnswer);
                
                const resultDiv = document.createElement('div');
                resultDiv.className = 'result-item';
                resultDiv.innerHTML = `
                    <h3>Swali ${q.number}: ${q.text}</h3>
                    <p><strong>Jibu Lako:</strong> ${userAnswer}. ${selectedOption.text}</p>
                    <p><strong>Maana:</strong> ${selectedOption.result}</p>
                `;
                detailedResults.appendChild(resultDiv);
            });

            // Switch page
            document.getElementById('questionsPage').classList.remove('active');
            document.getElementById('resultsPage').classList.add('active');
            window.scrollTo(0, 0);
        }

        function showAdvice() {
            const adviceContainer = document.getElementById('adviceContainer');
            adviceContainer.innerHTML = '';

            questions.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                const selectedOption = q.options.find(opt => opt.letter === userAnswer);
                
                const adviceDiv = document.createElement('div');
                adviceDiv.className = 'advice-section';
                adviceDiv.innerHTML = `
                    <h3>üí° Ushauri ${q.number}: ${q.text}</h3>
                    <p><strong>Jibu Lako:</strong> ${userAnswer}. ${selectedOption.text}</p>
                    <p><strong>Ushauri Binafsi:</strong> ${selectedOption.advice}</p>
                `;
                adviceContainer.appendChild(adviceDiv);
            });

            document.getElementById('resultsPage').classList.remove('active');
            document.getElementById('advicePage').classList.add('active');
            window.scrollTo(0, 0);
        }

        function goToResults() {
            document.getElementById('advicePage').classList.remove('active');
            document.getElementById('resultsPage').classList.add('active');
            window.scrollTo(0, 0);
        }

        // Initialize on load
        initQuestions();
    </script>
</body>
</html>